<html>
  <head>
    <script>
      function getFinalImageURL(imageURL) {
    return new Promise((resolve, reject) => {
        let img = new Image();
        
        img.onload = function () {
            resolve(img.src); // This will be the final resolved URL after redirection
        };

        img.onerror = function () {
            reject("Failed to load image (Possible CORS issue)");
        };

        img.src = imageURL;
    });
}

// Example Usage
getFinalImageURL('https://work.fife.usercontent.google.com/d/1K7FTJxeGfmi-W3tB0wVzq6_eblHKQjCmjDDWWGTOQ0c=w1469-h565-p-k-nu')
    .then(finalURL => console.log("Final Image URL:", finalURL))
    .catch(error => console.error(error));
    </script>
  </head>
  <body>
  </body>
</html>
