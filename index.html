<html>
  <head>
    <script>

      function getFinalImageURLUsingIframe(imageURL) {
    return new Promise((resolve, reject) => {
        let iframe = document.createElement('iframe');
        iframe.style.display = 'none';
        document.body.appendChild(iframe);

        iframe.onload = function () {
            try {
                resolve(iframe.contentWindow.location.href);
            } catch (e) {
                reject("Failed to get final URL");
            }
            document.body.removeChild(iframe);
        };

        iframe.src = imageURL;
    });
}

// Example Usage
getFinalImageURLUsingIframe('https://work.fife.usercontent.google.com/d/1K7FTJxeGfmi-W3tB0wVzq6_eblHKQjCmjDDWWGTOQ0c=w1469-h565-p-k-nu')
    .then(finalURL => console.log("Final Image URL:", finalURL))
    .catch(error => console.error(error));
    </script>
  </head>
  <body>
  </body>
</html>
