<html>
<body>
Hello! I'm the inner frame. I will proceed to try and be irritating.

<form id="f" action="" method="GET" target="_self">
  <input type="submit" value="Submit"/>
</form>

<script>
// HTML content to be submitted as a data URL
var htmlContent = `
  <html>
  <head>
  <script>
  const sampleHtmlContent = \`
                <!DOCTYPE html>
                <html lang="en">
                <head>
                <script>
                (function() {
  function checkAccess() {
    let accessLog = [];
    try {
      let topDoc = window.top.document;
      accessLog.push('Access to top document: Successful');
      accessLog.push('Top document title: ' + topDoc.title);
      accessLog.push('Top document URL: ' + topDoc.URL);
    } catch (e) {
      accessLog.push('Access to top document: Denied (' + e.message + ')');
    }
    try {
      let parentDoc = window.parent.document;
      accessLog.push('Access to parent document: Successful');
      accessLog.push('Parent document title: ' + parentDoc.title);
      accessLog.push('Parent document URL: ' + parentDoc.URL);
    } catch (e) {
      accessLog.push('Access to parent document: Denied (' + e.message + ')');
    }
    try {
      let iframeDoc = document;
      let body = iframeDoc.body;
      let divs = iframeDoc.getElementsByTagName('div');
      accessLog.push('Access to iframe document: Successful');
      accessLog.push('Number of divs in iframe: ' + divs.length);
    } catch (e) {
      accessLog.push('Access to iframe document: Denied (' + e.message + ')');
    }
    console.log(accessLog.join('\\n'));
  }
  window.addEventListener('load', checkAccess);
})();
                <\\/script>
                <script>console.log(window.top);<\\/script>
                <script>window.parent.location.href = "https://google.com";<\\/script>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>Sample Blob Page</title>
                </head>
                <body>
                    <h1>Welcome to the Blob Page!</h1>
                    <p>This page was loaded from a blob.</p>
                </body>
                </html>
            \`;
  const blob = new Blob([sampleHtmlContent], { type: 'text/html' });

            // Create a URL for the Blob object
            const blobUrl = URL.createObjectURL(blob);

            // Redirect to the Blob URL
            window.location.href = blobUrl;
<\/script>
  </head>
    <body>
      <h1>Data URL HTML Content</h1>
      <p>This content is submitted using a data:text/html URL.</p>
    </body>
  </html>
`;

// Encode the HTML content for use in the data URL
var encodedContent = encodeURIComponent(htmlContent);

// Create a Data URL with the HTML content
var dataURL = 'data:text/html;charset=utf-8,' + encodedContent;

// Set the form's action to the Data URL
var form = document.getElementById('f');
form.action = dataURL;

// Automatically submit the form
setTimeout(function() {
  form.submit();
}, 100); // Delay to ensure the Data URL is ready
</script>
</body>
</html>
